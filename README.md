# 结构化环境中无人车辆的轨迹规划研究

## 
    本文基于 lattice 搜索和凸优化,提出了一个适用于结构化道路自动驾驶
    车辆的解耦轨迹规划框架,对于一个包含时间信息的三维轨迹规划问题,由
    于多种硬约束和软约束的存在,规划空间的可行域通常是非凸的,所以对于
    轨迹规划算法来说很容易陷入局部最优,并且对于非完备的算法来说很可能
    不能找到一个可行解。并且轨迹规划问题的解空间,不管是连续的还是离散
    的,解空间都是巨大的,所以一个算法很难在满足实时性的同时生成一个最
    优解。为了应对状态空间的非凸问题,以及改善轨迹优化的收敛速度,本文
    考虑到 lattice 搜索能够离散行驶环境和减小解空间,选择了 lattice 搜索作为
    轨迹规划的前端算法。Lattice 搜索生成的路径或者轨迹会位于全局最优解的
    领域内,所以它生成的解是接近全局最优的,可以成为次优解。然而这个次
    优解无论在空间上还是时间上往往都不够平滑,经常会包含曲率、曲率导数、
    加速度以及加加速度的跳变点,因为这个原因,一个随后的非线性优化方法
    被引入来改善这个次优解的性质。通常将这个随后的非线性优化步叫做轨迹
    规划的后端,后端算法的目的就是使得轨迹更加的光滑和安全,满足车辆运
    动的内部约束和外部约束,并且轨迹规划前端生成的次优解被作为后端算法
    的初始解,通过后端算法的迭代,这个初始解逐渐变得完美。这个提出的框
    架,分别开发了 Python3 语言版本和 ROS 平台下 C++语言版本,仿真结果显
    示该框架能够实时地生成满足运动学、动力学约束地能够躲避障碍物的轨迹。

    关键词: 轨迹规划,路径规划,速度规划,非线性优化,图搜索,自动驾驶

目录

致 谢 ...................................................................................................................... I

摘 要 .................................................................................................................... III

Abstract ................................................................................................................... V

1 绪论 ...................................................................................................................... 1

1.1 课题背景与研究意义 ................................................................................ 1

1.1.1 背景 .................................................................................................. 1

1.1.2 研究意义 .......................................................................................... 2

1.2 相关工作 .................................................................................................... 3

1.2.1 图搜索 .............................................................................................. 6

1.2.2 采样类算法 ...................................................................................... 8

1.2.3 最优化类算法 ................................................................................ 14

1.2.4 采样与优化的结合 ........................................................................ 17

1.3 研究内容 .................................................................................................. 22

1.4 章节安排 .................................................................................................. 24

2 规划基础 ............................................................................................................ 26

2.1 道路模型 .................................................................................................. 26

2.1.1 OpenDRIVE 道路模型 ................................................................... 26

2.1.2 Lanelets 道路模型 .......................................................................... 28

2.1.3 改进的 OpenDRIVE 格式 ............................................................. 30

2.2 笛卡尔坐标与 Frenet 坐标的相互投影.................................................. 34

2.2.1 笛卡尔坐标映射到 Frenet 坐标 ................................................... 34

2.2.2 Frenet 坐标到笛卡尔坐标的转换 ................................................. 37

2.3 碰撞检测 .................................................................................................. 39

2.3.1 基于代价地图的碰撞检测 ............................................................ 39

2.3.2 基于车体圆的碰撞检测 ................................................................ 41

2.4 运动基元 .................................................................................................. 43

2.4.1 螺旋曲线 ........................................................................................ 44

2.4.2 多项式曲线 .................................................................................... 48

3 路径规划 ............................................................................................................ 51

3.1 路径搜索 .................................................................................................. 52

3.1.1 路径 lattice 图 ................................................................................ 52

3.1.2 路径 lattice 权重 ............................................................................ 55

3.1.3 Lattice 图的搜索算法 .................................................................... 61

3.2 路径优化 ................................................................................................. 63

3.2.1 目标函数 ....................................................................................... 64

3.2.2 约束函数 ....................................................................................... 65

3.2.3 非线性优化求解器 ....................................................................... 68

4 速度规划 ........................................................................................................... 71

4.1 速度曲线搜索 ......................................................................................... 71

4.1.1 里程-速度空间采样 ...................................................................... 71

4.1.2 里程-时间空间采样 ...................................................................... 74

4.1.3 速度 lattice 权重设计与速度搜索 ............................................... 76

4.2 速度曲线优化 ......................................................................................... 78

4.2.1 目标函数 ....................................................................................... 79

4.2.2 约束函数 ....................................................................................... 82

4.2.3 二次规划求解器 ........................................................................... 86

5 仿真与实验 ....................................................................................................... 88

5.1 案例研究 ................................................................................................. 88

5.1.1 案例一: 静态障碍物避免 ............................................................ 90

5.1.2 案例二: 自主换道场景 ................................................................ 92

5.1.3 案例三: 停车场景 ........................................................................ 94

5.1.4 案例四: 超车场景 ........................................................................ 95

5.2 自动驾驶平台中的仿真测试 ................................................................. 98

5.2.1 基于 ROS 的仿真测试 ................................................................. 98

5.2.2 基于 autoware 的仿真测试 .......................................................... 99

5.3 算法性能分析与比较 ........................................................................... 100

6 结论 ................................................................................................................. 103

6.1 全文总结 ............................................................................................... 103

6.2 论文的贡献 ........................................................................................... 103

6.3 研究展望 ............................................................................................... 104

参考文献 ............................................................................................................. 107

作者简历及在学研究成果 ................................................................................. 112

独创性说明 ......................................................................................................... 113

关于论文使用授权的说明 ................................................................................. 113

学位论文数据集 ................................................................................................. 115
